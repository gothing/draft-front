{"version":3,"sources":["store/store.ts","util.tsx","ui/Layout/Header.tsx","ui/Layout/LeftMenu.tsx","ui/Loading/Loading.tsx","ui/Status/Status.tsx","rpc.ts","ui/CodeHighlight/CodeHighlight.tsx","ui/Endpoint/EndpointCase.tsx","ui/Endpoint/Endpoint.tsx","ui/Endpoint/EndpointAll.tsx","ui/Layout/Layout.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Store","createContext","useAppStore","useContext","useAppState","state","getGroupEntryKey","entry","key","name","scheme","project","useNav","updateState","React","val","search","queryString","window","location","hash","fuzzyMemo","fuzzyHL","value","pattern","fuzzyMatch","pre","post","result","dangerouslySetInnerHTML","__html","rendered","getBaseURL","group","id","getCaseURL","c","rDocLocation","parseHistoryParams","checkPath","parsed","pathname","match","history","pushState","activeEndpoint","endpoint","activeGroup","groups","Object","keys","toMapById","list","reduce","map","item","markdown","indent","prepared","replace","split","line","m","RegExp","join","marked","Header","handleSearch","evt","target","nav","className","Sider","width","Logo","Content","theme","mode","defaultSelectedKeys","values","Item","onClick","Search","placeholder","onChange","height","src","LeftMenu","activeGroupEntries","handleSelect","param","rootEntries","flatMap","r","entries","openKeys","menuItems","render","e","idx","type","push","SubMenu","title","description","defaultOpenKeys","style","borderRight","onSelect","Loading","display","alignItems","justifyContent","size","Status","badge","color","status","toUpperCase","borderRadius","fontSize","padding","lineHeight","verticalAlign","RPC_STATUS_TO_CODE","CodeHighlight","props","codeRef","hljs","current","ref","EndpointCase","accessRights","access","extra","activeAccess","setActiveAccess","detail","reqHeaders","renderParams","headers","request","reqCookies","cookies","respHeaders","response","undefined","respCookies","params","body","renderJSONObject","isOK","href","accessSelector","AccessSelector","active","codeStatus","useConsoleLog","borderColor","el","document","createElement","setAttribute","position","left","appendChild","selection","getSelection","currentRanges","i","rangeCount","getRangeAt","select","execCommand","removeChild","length","removeAllRanges","forEach","range","addRange","copyToClipboard","toString","message","success","LinkOutlined","method","EndpointURL","Description","children","filter","RequestSection","bg","background","QuestionCircleFilled","raw","ind","JSON","stringify","nind","refVal","refNested","nested","isObject","prop","unshift","comment","getRefType","meta_type","ev","enum","sep","base","renderParamsItem","reflect","concat","rawVal","skey","required","projects","hosts","activeHost","setActiveHost","host","host_rc","host_dev","includes","menu","v","selector","overlay","RequestFactory","url","formRef","visible","setVisible","handleSend","Array","from","elements","p","checked","open","encodeURIComponent","access_extra","path","fullUrl","CodeOutlined","Math","max","onOk","onCancel","okText","onSubmit","preventDefault","RequestForm","setState","Elem","Checkbox","Input","prototype","call","args","console","log","Endpoint","fastEndpointIndex","some","find","marginBottom","cases","direction","EndpointAll","isEmpty","nodes","TreeNode","descr","showLine","defaultExpandAll","AppLayout","loading","content","margin","minHeight","groupEntryCache","App","config","active_group","rights","AppReady","warn","handle","deps","store","arguments","pid","setTimeout","clearTimeout","useHistory","addEventListener","removeEventListener","rev","setRev","forceUpdate","loadedGroup","cache","fetch","then","json","next","useGroupEntryAutoload","firstScroll","elem","querySelector","decodeURIComponent","requestAnimationFrame","scrollIntoView","behavior","useAutoScroll","Provider","Boolean","hostname","globalThis","GODRAFT_CONFIG","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","process"],"mappings":"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","file":"static/js/main.46b97705.chunk.js","sourcesContent":["import { createContext, useContext } from 'react';\nimport { AppStore } from '../typings';\n\nexport const Store = createContext({} as AppStore);\n\nexport function useAppStore() {\n\treturn useContext(Store);\n}\n\nexport function useAppState() {\n\treturn useAppStore().state;\n}\n","import * as React from 'react';\nimport { SchemeCase, AppState, GroupEntry, GroupConfig } from './typings';\nimport { MatchResult, match as fuzzyMatch } from 'fuzzy';\nimport { useAppStore } from './store/store';\nimport marked from 'marked';\n\nexport function getGroupEntryKey(entry: GroupEntry) {\n\tlet key = entry.name;\n\t\n\tif (entry.scheme && entry.scheme.project) {\n\t\tkey = `${entry.scheme.project}${key}`;\n\t}\n\n\treturn key;\n}\n\nexport function copyToClipboard(val: string) {\n\tconst el = document.createElement('textarea');\n\tel.value = val;\n\tel.setAttribute('readonly', '');\n\tel.style.position = 'absolute';\n\tel.style.left = '-9999px';\n\t\n\tdocument.body.appendChild(el);\n\n\tconst selection = document.getSelection()\n\tconst currentRanges = [] as Range[];\n\n\tif (selection) {\n\t\tfor (let i = 0; i < (selection.rangeCount || 0); i++) {\n\t\t\tcurrentRanges.push(selection.getRangeAt(i));\n\t\t}\n\t}\n\n\tel.select();\n\tdocument.execCommand('copy');\n\tdocument.body.removeChild(el);\n\t\n\tif (currentRanges.length) { \n\t\tconst selection = document.getSelection()\n\t\tif (selection) {\n\t\t\tselection.removeAllRanges();\n\t\t\tcurrentRanges.forEach(range => {\n\t\t\t\tselection.addRange(range);\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function useNav() {\n\tconst { updateState } = useAppStore();\n\tconst nav = React.useCallback((val) => {\n\t\tupdateState({\n\t\t\tsearch: '',\n\t\t\tqueryString: '',\t\n\t\t})\n\t\twindow.location.hash = val;\n\t}, [updateState]);\n\t\n\treturn nav;\n}\n\nconst fuzzyMemo = {} as {\n\t[value:string]: {\n\t\t[pattern:string]: MatchResult;\n\t}\n};\n\nexport function fuzzyHL(value: string, pattern: string) {\n\tif (fuzzyMemo[value] === void 0) {\n\t\tfuzzyMemo[value] = {};\n\t}\n\n\tif (fuzzyMemo[value][pattern] === void 0) {\n\t\tfuzzyMemo[value][pattern] = fuzzyMatch(pattern, value, {\n\t\t\tpre: '<span style=\"background: yellow;\">',\n\t\t\tpost: '</span>',\n\t\t});\n\t}\n\n\tconst result = fuzzyMemo[value][pattern];\n\treturn result ? <span dangerouslySetInnerHTML={{__html: result.rendered}}/> : null;\n}\n\nexport function getBaseURL(group: GroupConfig, entry?: GroupEntry) {\n\treturn `#${group.id}${entry ? `:${entry.scheme?.project || ''}${entry.name}` : ``}`;\n}\n\nexport function getCaseURL(group: GroupConfig, entry: GroupEntry, c: SchemeCase) {\n\treturn `${getBaseURL(group, entry)}?case=${c.name}`;\n}\n\nconst rDocLocation = /^\\/godraft:doc[a-z]+(\\/api\\/[^?#]+)/;\n\nexport function parseHistoryParams(state: AppState, checkPath?: boolean) {\n\tif (checkPath) {\n\t\tconst parsed = window.location.pathname.match(rDocLocation);\n\t\tif (parsed) {\n\t\t\twindow.history.pushState(null, '', '/godraft:docs/');\n\t\t\treturn {\n\t\t\t\tactiveEndpoint: parsed[1],\n\t\t\t};\n\t\t}\n\t}\n\n\n\tconst [\n\t\t_,\n\t\tid,\n\t\tendpoint,\n\t\tqueryString,\n\t] = window.location.hash.match(/^#?([\\w-]+)(?::([^?]+))?(?:\\?(.*))?/i) || [];\n\n\treturn {\n\t\tactiveGroup: state.groups[id] ? id : Object.keys(state.groups)[0],\n\t\tactiveEndpoint: endpoint || '',\n\t\tqueryString: queryString || '',\n\t};\n}\n\nexport function toMapById<T>(list: {[id:string]: any}[]): T {\n\treturn list.reduce((map, item) => {\n\t\tmap[item.id] = item;\n\t\treturn map;\n\t}, {}) as T;\n}\n\nexport function markdown(value:string) {\n\tlet indent = null as RegExp | null | false;\n\tconst prepared = value\n\t\t.replace(/^\\s*\\n/, '')\n\t\t.split('\\n')\n\t\t\t.map(line => {\n\t\t\t\tif (indent === null) {\n\t\t\t\t\tconst m = line.match(/^\\s+/);\n\t\t\t\t\tindent = m ? new RegExp(`^${m[0]}`) : false;\n\t\t\t\t}\n\n\t\t\t\treturn indent ? line.replace(indent!, '') : line;\n\t\t\t})\n\t\t\t.join('\\n')\n\t;\n\t\n\treturn marked(prepared);\n}\n","import * as React from 'react';\nimport { Layout, Menu, Input } from 'antd';\nimport { useAppStore } from '../../store/store';\nimport { useNav, getBaseURL } from '../../util';\n\nexport function Header() {\n\tconst {\n\t\tstate: {\n\t\t\tsearch,\n\t\t\tactiveGroup,\n\t\t\tgroups,\n\t\t},\n\t\tupdateState,\n\t} = useAppStore();\n\tconst handleSearch = React.useCallback((evt: React.ChangeEvent<HTMLInputElement>) => {\n\t\tupdateState('search', evt.target.value);\n\t}, [updateState]);\n\tconst nav = useNav();\n\n\treturn (\n\t\t<Layout.Header className=\"header\">\n\t\t\t<Layout>\n\t\t\t\t<Layout.Sider width={200}>\n\t\t\t\t\t<Logo/>\n\t\t\t\t</Layout.Sider>\n\n\t\t\t\t<Layout.Content>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\t\tmode=\"horizontal\"\n\t\t\t\t\t\tdefaultSelectedKeys={activeGroup ? [activeGroup] : void 0}\n\t\t\t\t\t>{\n\t\t\t\t\t\tObject.values(groups).map((group) => (\n\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\tkey={group!.id}\n\t\t\t\t\t\t\t\tonClick={() => { nav(getBaseURL(group!)); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{group!.name}\n\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t))\n\t\t\t\t\t}</Menu>\n\t\t\t\t</Layout.Content>\n\n\t\t\t\t<Layout.Sider width={200}>\n\t\t\t\t\t<Input.Search\n\t\t\t\t\t\tplaceholder=\"Поиск по методам\"\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t/>\n\t\t\t\t</Layout.Sider>\n\t\t\t</Layout>\n\t\t</Layout.Header>\n\t);\n}\n\nfunction Logo() {\n\treturn (\n\t\t<img\n\t\t\theight=\"32\"\n\t\t\tsrc=\"https://img.imgsmail.ru/pm/1.0.3/blocks/ph-logo/img/logotype-mail.ru@2x.png\"\n\t\t/>\n\t);\n}\n","import * as React from 'react';\nimport { Menu, Divider } from 'antd';\nimport { SelectParam } from 'antd/lib/menu';\nimport { useAppStore } from '../../store/store';\nimport { getGroupEntryKey } from '../../util';\n\nexport function LeftMenu() {\n\tconst {\n\t\tstate: {\n\t\t\tactiveGroupEntries,\n\t\t\tactiveEndpoint,\n\t\t},\n\t\tupdateState,\n\t} = useAppStore();\n\tconst handleSelect = React.useCallback((param: SelectParam) => {\n\t\tupdateState({\n\t\t\tsearch: '',\n\t\t\tqueryString: '',\n\t\t\tactiveEndpoint: param.key,\n\t\t});\n\t}, [updateState]);\n\n\tconst rootEntries = activeGroupEntries.flatMap(r => r.entries) || [];\n\tconst openKeys = [] as string[];\n\t\n\tconst menuItems = rootEntries.map(function render(e, idx) {\n\t\tif (e.type === 'G') {\n\t\t\topenKeys.push(`group-${idx}`);\n\n\t\t\treturn (\n\t\t\t\t<Menu.SubMenu key={`group-${idx}`} title={e.name}>\n\t\t\t\t\t{e.entries.map(render)}\n\t\t\t\t</Menu.SubMenu>\n\t\t\t);\n\t\t} else if (e.type === 'E') {\n\t\t\treturn (\n\t\t\t\t<Menu.Item\n\t\t\t\t\tkey={getGroupEntryKey(e)}\n\t\t\t\t\ttitle={e.scheme!.description || e.scheme!.name}\n\t\t\t\t>\n\t\t\t\t\t{e.scheme!.name}\n\t\t\t\t</Menu.Item>\n\t\t\t);\n\t\t} else if (e.type === 'HR') {\n\t\t\treturn <Divider />;\n\t\t} else {\n\t\t\tthrow `not supproted: ${e.type}`;\n\t\t}\n\t});\n\n\treturn (\n\t\t<Menu\n\t\t\tmode=\"inline\"\n\t\t\tdefaultOpenKeys={openKeys}\n\t\t\tdefaultSelectedKeys={activeEndpoint ? [activeEndpoint] : void 0}\n\t\t\tstyle={{ height: '100%', borderRight: 0 }}\n\t\t\tonSelect={handleSelect}\n\t\t>\n\t\t\t{menuItems}\n\t\t</Menu>\n\t);\n}\n","\nimport * as React from 'react';\nimport { Spin } from 'antd';\n\nexport function Loading() {\n\treturn (\n\t\t<div style={{\n\t\t\tdisplay: 'flex',\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t}}>\n\t\t\t<Spin size=\"large\"/>\n\t\t</div>\n\t);\n}\n","import * as React from 'react';\nimport { Tag } from 'antd';\n\nexport type StatusProps = {\n\tname: string;\n\tbadge?: boolean;\n};\n\nexport function Status({name, badge}: StatusProps) {\n\tconst color = name === 'found'\n\t\t? 'processing'\n\t\t: name === 'ok'\n\t\t? 'success'\n\t\t: 'error'\n\t;\n\tconst status = name.toUpperCase();\n\tconst style = badge ? {\n\t\tborderRadius: 5,\n\t\tfontSize: '50%',\n\t\tpadding: '0 4px',\n    \tlineHeight: '14px',\n    \tverticalAlign: 'super',\n\t} : void 0;\n\n\treturn <Tag color={color} style={style}>{status}</Tag>;\n}\n","export const RPC_STATUS_TO_CODE: {\n\t[status:string]: number;\n} = {\n\t'processing': 102,\n\t'ok': 200,\n\t'accepted': 202,\n\t'non_authoritative': 203,\n\t'partial': 206,\n\t'move': 301,\n\t'notmodified': 304,\n\t'invalid': 400,\n\t'payment_required': 402,\n\t'denied': 403,\n\t'notfound': 404,\n\t'unacceptable': 406,\n\t'timeout': 408,\n\t'conflict': 409,\n\t'expectation_failed': 417,\n\t'unprocessable': 422,\n\t'locked': 423,\n\t'failed_dependency': 424,\n\t'upgrade_required': 426,\n\t'many_requests': 429,\n\t'retry_with': 449,\n\t'unavailable_for_legal_reasons': 451,\n\t'fail': 500,\n\t'not_implemented': 501,\n\t'unavaliable': 503,\n\t'insufficient': 507,\n};\n","import * as React from 'react';\nimport * as hljs from 'highlight.js';\nimport 'highlight.js/styles/tomorrow.css';\n\n// hljs.registerLanguage('js', jsLang);\n\nexport type CodeHighlightProps = {\n\tvalue: string;\n}\n\nexport function CodeHighlight(props: CodeHighlightProps) {\n\tconst codeRef = React.useRef(null as HTMLElement | null);\n\tconst {\n\t\tvalue,\n\t} = props;\n\n\tReact.useEffect(() => {\n\t\thljs.highlightBlock(codeRef.current as any);\n\t}, [value]);\n\n\treturn (\n\t\t<pre>\n\t\t\t<code\n\t\t\t\tref={codeRef}\n\t\t\t\tclassName=\"javascript\"\n\t\t\t\tdangerouslySetInnerHTML={{__html: value}}\n\t\t\t/>\n\t\t</pre>\n\t);\n}\n","import * as React from 'react';\nimport { Tag, Card, message, Dropdown, Menu, Tooltip, Modal, Input, Space, Checkbox, Typography } from 'antd';\nimport { LinkOutlined, QuestionCircleFilled, CodeOutlined } from '@ant-design/icons';\nimport { Status } from '../Status/Status';\nimport { getCaseURL, copyToClipboard, useNav, markdown } from '../../util';\nimport { RPC_STATUS_TO_CODE } from '../../rpc';\nimport { SchemeCase, ReflectItemMap, ReflectItem, GroupEntry, GroupConfig, AccessConfig, AccessExtraConfig, AccessExtraItemValue, JSONSchemeDetail } from '../../typings';\nimport { CodeHighlight } from '../CodeHighlight/CodeHighlight';\n\nimport './EndpointCase.css';\nimport { useAppState, useAppStore } from '../../store/store';\n\nexport type EndpointCaseProps = {\n\tgroup: GroupConfig;\n\tentry: GroupEntry;\n\tvalue: SchemeCase;\n};\n\nexport function EndpointCase(props: EndpointCaseProps) {\n\tconst {\n\t\tgroup,\n\t\tentry,\n\t\tvalue,\n\t} = props;\n\tconst {\n\t\tstate: {\n\t\t\taccessRights,\n\t\t},\n\t} = useAppStore();\n\tconst scheme = entry.scheme!;\n\tconst [activeAccess, setActiveAccess] = React.useState(accessRights[value.access]?.extra[0]);\n\tconst nav = useNav();\n\tconst detail = scheme.detail[value.status];\n\tconst reqHeaders = renderParams(value.headers?.request, detail.request.headers, activeAccess?.headers, ': ');\n\tconst reqCookies = renderParams(value.cookies?.request, detail.request.cookies, activeAccess?.cookies, ': ');\n\tconst respHeaders = renderParams(value.headers?.response, detail.response.headers, undefined, ': ');\n\tconst respCookies = renderParams(value.cookies?.response, detail.response.cookies, undefined, ': ');\n\tconst params = renderParams(value.params, detail.request.params, activeAccess?.params);\n\tconst body = renderJSONObject(detail.response.body, value.body, '  ');\n\tconst isOK = value.status === 'ok';\n\tconst href = getCaseURL(group, entry, value);\n\tconst accessSelector = <AccessSelector\n\t\ttype={value.access}\n\t\tactive={activeAccess}\n\t\tonSelect={setActiveAccess}\n\t/>;\n\tconst codeStatus = RPC_STATUS_TO_CODE[value.status];\n\n\tuseConsoleLog('EndpointCase.in:', {value, detail, activeAccess});\n\tuseConsoleLog('EndpointCase.out:', {reqHeaders, reqCookies, params, respHeaders, respCookies, body});\n\n\treturn (\n\t\t<Card\n\t\t\tstyle={\n\t\t\t\tisOK\n\t\t\t\t? {}\n\t\t\t\t: value.status === 'found'\n\t\t\t\t? {borderColor: '#91d5ff'}\n\t\t\t\t: {borderColor: '#ffa39e'}\n\t\t\t}\n\t\t\ttitle={<>\n\t\t\t\t<div id={href} className=\"endpoint-case-hidden-anchor\"/>\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"endpoint-case-copy-to-clipboard\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tnav(href);\n\t\t\t\t\t\tcopyToClipboard(window.location.toString());\n\t\t\t\t\t\tmessage.success('Copied', .4);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<LinkOutlined/>\n\t\t\t\t</span>\n\t\t\t\t<a href={href}>{value.name}</a><br/>\n\t\t\t\t<Status name={value.status}/>\n\t\t\t\t<Tag>{value.method}</Tag>\n\t\t\t\t<span>\n\t\t\t\t\t{' → '}&nbsp;\n\t\t\t\t\t<EndpointURL\n\t\t\t\t\t\tentry={entry}\n\t\t\t\t\t\tscheme={value}\n\t\t\t\t\t\taccess={activeAccess}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</>}\n\t\t>\n\t\t\t{value.description && <Description value={value.description}/>}\n\n\t\t\t{[\n\t\t\t\t{name: 'request → headers',  children: reqHeaders},\n\t\t\t\t{name: 'request → cookies',  children: reqCookies},\n\t\t\t\t{name: 'request → params',   children: params},\n\t\t\t\t{name: 'response → headers', children: respHeaders},\n\t\t\t\t{name: 'response → cookies', children: respCookies},\n\t\t\t].filter(i => !!i.children).map((props, idx) =>\n\t\t\t\t<RequestSection\n\t\t\t\t\t{...props}\n\t\t\t\t\tkey={idx}\n\t\t\t\t\tbg={idx % 2 ? '#f5f5f5' : '#fafafa'}\n\t\t\t\t\textra={!idx && accessSelector}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{(codeStatus < 300 || codeStatus >= 400) && <RequestSection name=\"response\">\n\t\t\t\t<CodeHighlight value={``\n\t\t\t\t\t+ '{\\n'\n\t\t\t\t\t+ `  \"status\": ${RPC_STATUS_TO_CODE[value.status]},\\n`\n\t\t\t\t\t+ `  \"body\": ${body}`\n\t\t\t\t\t+ `\\n}`\n\t\t\t\t}/>\n\t\t\t</RequestSection>}\n\t\t</Card>\n\t);\n}\n\ntype RequestSectionProps = {\n\tbg?: string;\n\tname: string;\n\textra?: React.ReactNode;\n\tchildren: React.ReactNode;\n};\n\nfunction RequestSection(props: RequestSectionProps) {\n\tconst {\n\t\tbg,\n\t\tname,\n\t\textra,\n\t\tchildren,\n\t} = props;\n\n\treturn (\n\t\t<div className=\"request-section\" style={{background: bg}}>\n\t\t\t{extra && <div className=\"request-section-extra\">{extra}</div>}\n\t\t\t<div className=\"request-section-label\">{name}</div>\n\t\t\t<div className=\"request-section-body\">{children}</div>\n\t\t</div>\n\t);\n}\n\ntype AccessSelectorProps = {\n\ttype: string;\n\tactive: AccessExtraConfig | undefined;\n\tonSelect: (item: AccessExtraConfig) => void;\n}\n\nfunction AccessSelector({type, active, onSelect}: AccessSelectorProps) {\n\tconst {\n\t\taccessRights,\n\t} = useAppState();\n\tconst access = accessRights[type];\n\n\tif (!access) {\n\t\treturn (\n\t\t\t<div className=\"access-selector-badge\">\n\t\t\t\t<Tag color=\"blue\">{type}</Tag>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <div className=\"access-selector\">{access.extra.map((item) =>\n\t\t<div\n\t\t\tclassName={`\n\t\t\t\taccess-selector-tab\n\t\t\t\t${item === active && `access-selector-tab-active`}\n\t\t\t`}\n\t\t\tkey={item.name}\n\t\t\tonClick={() => onSelect(item)}\n\t\t>\n\t\t\t{item.name}\n\t\t\t{item.description && <>\n\t\t\t\t{' '}\n\t\t\t\t<Tooltip title={<span dangerouslySetInnerHTML={{__html: markdown(item.description)}}/>}>\n\t\t\t\t\t<QuestionCircleFilled />\n\t\t\t\t</Tooltip>\n\t\t\t</>}\n\t\t</div>\n\t)}</div>;\n}\n\nfunction renderJSONObject(ref: ReflectItemMap, raw: any, ind = '') {\n\tif (raw == null || typeof raw !== 'object') {\n\t\treturn JSON.stringify(raw);\n\t}\n\tconst nind = ind + '  ';\n\n\treturn `{\\n${Object.entries(raw).map(([key, val]) => {\n\t\tconst refVal = ref && ref[key];\n\t\tconst refNested = refVal && refVal.nested;\n\n\t\tif (refNested && refNested.length) {\n\t\t\tconst nref = refNested.reduce((map, item) => {\n\t\t\t\tmap[item.name] = item;\n\t\t\t\treturn map;\n\t\t\t}, {} as ReflectItemMap);\n\t\t\tval = renderJSONObject(nref, val, nind);\n\t\t} else if (isObject(val)) {\n\t\t\tval = JSON\n\t\t\t\t.stringify(val, null, (nind + ind).length)\n\t\t\t\t.replace(/\\}$/, `${nind}}`)\n\t\t\t;\n\t\t} else {\n\t\t\tval = JSON.stringify(val);\n\t\t}\n\n\t\tconst prop = [`${nind}\"${key}\": ${val}`];\n\t\trefVal && prop.unshift( `${nind}/* ${refVal.comment}. <b>${getRefType(refVal)}</b> */`)\n\n\t\treturn prop.join('\\n');\n\t}).join(',\\n')}\\n${ind}}`;\n}\n\nfunction getRefType({type, meta_type, enum:ev}: ReflectItem) {\n\tswitch (type) {\n\t\tcase 'map':\n\t\t\treturn `map[${ev ? `${ ev.join(' | ') }` : 'string'}]string`;\n\n\t\tcase 'struct':\n\t\t\treturn 'object';\n\n\t\tcase 'slice':\n\t\t\treturn `${ev ? `Enum<${ ev.join(' | ') }>` : meta_type}[]`;\n\t}\n\n\treturn type;\n}\n\nfunction renderParams(\n\tparams?: object,\n\tscheme?: ReflectItemMap,\n\textra?: AccessExtraItemValue,\n\tsep?: string,\n) {\n\tif (params == null && extra?.value == null) {\n\t\treturn null;\n\t}\n\n\tconst base = !scheme ? <></> : Object\n\t\t.entries(Object(params))\n\t\t.map(([key, val]) => renderParamsItem(key, val, scheme[key], sep))\n\t;\n\n\treturn (extra && extra.reflect && extra.reflect.nested\n\t\t? extra.reflect.nested\n\t\t\t.map((item) => renderParamsItem(item.name, extra.value[item.name]!, item, sep))\n\t\t\t.concat(base)\n\t\t: base\n\t);\n}\n\nfunction renderParamsItem(key: string, rawVal: any, ref: ReflectItem, sep = '=') {\n\tconst skey = `${key}${ref.required ? '' : '?'}`;\n\tlet val: any = null;\n\n\tif (rawVal && typeof rawVal === 'string') {\n\t\tval = rawVal;\n\t} else if (rawVal && typeof rawVal === 'object' && ref.nested && ref.nested.length) {\n\t\tval = renderJSONObject(ref.nested.reduce((map, item) => {\n\t\t\tmap[item.name] = item;\n\t\t\treturn map;\n\t\t}, {} as ReflectItemMap), rawVal, '');\n\n\t\treturn <div key={key}>\n\t\t\t<div>/* {ref.comment} */</div>\n\t\t\t<b>{skey}</b>{sep}<CodeHighlight value={val} />\n\t\t</div>;\n\t} else {\n\t\tval = JSON.stringify(rawVal);\n\t}\n\n\treturn <div key={key}>\n\t\t<div>/* {ref.comment}. <b>{getRefType(ref)}</b> */</div>\n\t\t<b>{skey}</b>\n\t\t{sep}\n\t\t<span title={val} className=\"endpoint-param-value\">{val}</span>\n\t</div>;\n}\n\ntype EndpointURLProps = {\n\tentry: GroupEntry;\n\tscheme: SchemeCase;\n\taccess?: AccessExtraConfig;\n}\n\nfunction EndpointURL({entry, scheme, access}: EndpointURLProps) {\n\tconst {projects} = useAppState();\n\tconst project = projects[entry.scheme?.project!];\n\tconst hosts = [] as string[];\n\tlet [activeHost, setActiveHost] = React.useState('');\n\tlet host = null as JSX.Element | null;\n\n\tif (project) {\n\t\tproject.host && hosts.push(project.host);\n\t\tproject.host_rc && hosts.push(project.host_rc);\n\t\tproject.host_dev && hosts.push(project.host_dev);\n\n\t\tactiveHost = hosts.includes(activeHost) ? activeHost : (project.host_rc || hosts[0]);\n\n\t\tif (hosts.length > 1) {\n\t\t\tconst menu = (\n\t\t\t\t<Menu onClick={({key}) => { setActiveHost(key); }}>{\n\t\t\t\t\thosts.map(v => <Menu.Item key={v}>{v}</Menu.Item>)\n\t\t\t\t}</Menu>\n\t\t\t);\n\t\t\tconst selector = (\n\t\t\t\t<Dropdown overlay={menu}>\n\t\t\t\t\t<span className=\"endpoint-case-host\">{activeHost}</span>\n\t\t\t\t</Dropdown>\n\t\t\t);\n\n\t\t\thost = <>https://{selector}</>;\n\t\t} else if (hosts.length) {\n\t\t\thost = <>https://{hosts[0]}</>;\n\t\t}\n\t}\n\n\treturn(\n\t\t<span>\n\t\t\t{host}{entry.name}{' '}\n\t\t\t<RequestFactory\n\t\t\t\taccess={access}\n\t\t\t\tproject={entry.scheme!.project}\n\t\t\t\tdetail={entry.scheme!.detail[scheme.status]!}\n\t\t\t\tscheme={scheme}\n\t\t\t\thost={activeHost}\n\t\t\t\turl={entry.name}\n\t\t\t/>\n\t\t</span>\n\t);\n}\n\ntype RequestFactoryProps = {\n\tproject?: string;\n\taccess?: AccessExtraConfig;\n\tdetail: JSONSchemeDetail;\n\tscheme: SchemeCase;\n\thost: string;\n\turl: string;\n};\n\nfunction RequestFactory(props: RequestFactoryProps) {\n\tconst {\n\t\tproject,\n\t\taccess,\n\t\tdetail,\n\t\tscheme,\n\t\thost,\n\t\turl,\n\t} = props;\n\tconst formRef = React.useRef(null as HTMLFormElement | null)\n\tconst [visible, setVisible] = React.useState(false);\n\tconst handleOpen = () => {\n\t\tsetVisible(true);\n\t};\n\tconst handleSend = () => {\n\t\tif (formRef.current) {\n\t\t\tconst elems = Array.from(formRef.current.elements) as HTMLInputElement[];\n\t\t\tconst values = elems.reduce((p, el: HTMLInputElement) => {\n\t\t\t\tp[el.name] = [`${el.type === 'checkbox' ? el.checked : el.value}`];\n\t\t\t\treturn p;\n\t\t\t}, {} as any);\n\n\t\t\twindow.open(`/godraft:request/?data=${encodeURIComponent(JSON.stringify({\n\t\t\t\tproject,\n\t\t\t\taccess: scheme.access,\n\t\t\t\taccess_extra: access?.name,\n\t\t\t\tmethod: scheme.method,\n\t\t\t\thost,\n\t\t\t\tpath: url,\n\t\t\t\tvalues,\n\t\t\t}))}`);\n\t\t}\n\n\t\tsetVisible(false);\n\t};\n\n\tconst fullUrl = `https://${host}${url}`;\n\n\treturn (<>\n\t\t<a onClick={handleOpen}><CodeOutlined /></a>\n\t\t<Modal\n\t\t\tvisible={visible}\n\t\t\twidth={Math.max(520, 150 + fullUrl.length * 7.4)}\n\t\t\ttitle={<>\n\t\t\t\t<Tag>{scheme.method}</Tag>\n\t\t\t\t{' → '}&nbsp;\n\t\t\t\t<span>{fullUrl}</span>\n\t\t\t</>}\n\t\t\tonOk={handleSend}\n\t\t\tonCancel={() => { setVisible(false); }}\n\t\t\tokText={'Execute'}\n\t\t>\n\t\t\t<form ref={formRef} onSubmit={(evt) => {\n\t\t\t\tevt.preventDefault();\n\t\t\t\thandleSend();\n\t\t\t}}>\n\t\t\t\t<RequestForm detail={detail} params={Object(scheme.params)}/>\n\t\t\t</form>\n        </Modal>\n\t</>);\n}\n\ntype RequestFormProps = {\n\tdetail: JSONSchemeDetail;\n\tparams: SchemeCase['params'];\n}\n\nfunction RequestForm({params, detail}: RequestFormProps) {\n\tconst [state, setState] = React.useState({} as any);\n\n\treturn <>{Object.entries(params).map(([key, value]) => {\n\t\tconst param = detail.request.params[key];\n\t\tconst Elem = param.type === 'bool' ? Checkbox : Input;\n\t\tconst props: any = {\n\t\t\tname: key,\n\t\t\trequired: param.required,\n\t\t\tvalue: void 0,\n\t\t\tchecked: void 0,\n\t\t\tonChange: ({target}: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\t\tsetState({\n\t\t\t\t\t...state,\n\t\t\t\t\t[key]: param.type === 'bool'  ? target.checked : target.value,\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\n\t\tif (state[key] === void 0) {\n\t\t\tstate[key] = value;\n\t\t}\n\n\t\tif (param.type === 'bool') {\n\t\t\tprops.checked = state[key];\n\t\t\tprops.value = 'true';\n\t\t} else {\n\t\t\tprops.value = state[key];\n\t\t}\n\n\t\treturn (\n\t\t\t<div key={key} className={`request-form-item required-${props.required}`}>\n\t\t\t\t<div><b>{key}</b>: {param.comment}</div>\n\t\t\t\t<Elem {...props} />\n\t\t\t</div>\n\t\t)\n\t})}</>;\n}\n\n\nfunction Description({value}: {value: string}) {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"endpoint-case-descr\"\n\t\t\tdangerouslySetInnerHTML={{__html: markdown(value)}}\n\t\t/>\n\t);\n}\n\nfunction isObject(val: unknown): val is object {\n\treturn Object.prototype.toString.call(val) === '[object Object]'\n}\n\nfunction useConsoleLog(...args: any[]) {\n\tReact.useEffect(() => {\n\t\tconsole.log(...args);\n\t}, args);\n}\n","import * as React from 'react';\nimport { Result, Breadcrumb, Typography, Space } from 'antd';\nimport { useAppStore } from '../../store/store';\nimport { GroupEntry } from '../../typings';\nimport { Status } from '../Status/Status';\nimport { EndpointCase } from './EndpointCase';\nimport { getGroupEntryKey, getCaseURL } from '../../util';\nimport Paragraph from 'antd/lib/typography/Paragraph';\n\nexport type Endpoint = {\n\tid: string;\n};\n\nexport function Endpoint({id}: Endpoint) {\n\tconst {\n\t\tstate: {\n\t\t\tgroups,\n\t\t\tprojects,\n\t\t\tactiveGroup,\n\t\t\tactiveGroupEntries,\n\t\t\tactiveEndpoint,\n\t\t\tfastEndpointIndex,\n\t\t},\n\t} = useAppStore();\n\tconst entry = React.useMemo(() => {\n\t\tlet result = null as GroupEntry | null;\n\t\t\n\t\tactiveGroupEntries.some(function find(entry) {\n\t\t\tif (getGroupEntryKey(entry) === id) {\n\t\t\t\tresult = entry;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn entry.entries.some(find);\n\t\t});\n\n\t\tif (!result && activeEndpoint) {\n\t\t\tresult = fastEndpointIndex[activeEndpoint] || null;\n\t\t}\n\n\t\treturn result;\n\t}, [activeGroupEntries, id]);\n\n\tif (!entry) {\n\t\treturn <Result status=\"error\" title={<>Ошибка: «<b>{id}</b>» — не найден</>} />;\n\t}\n\n\tconst group = groups[activeGroup!];\n\tif (!group) {\n\t\treturn <Result\n\t\t\tstatus=\"error\"\n\t\t\ttitle={<>Ошибка: «<b>{activeGroup || '<<undefined>>'}</b>» — группа не найдена</>}\n\t\t/>;\n\t}\n\n\tconst scheme = entry.scheme!;\n\tconst project = projects[scheme.project!];\n\n\treturn (\n\t\t<>\n\t\t\t<Breadcrumb style={{marginBottom: 20}}>\n\t\t\t\t<Breadcrumb.Item>{group.name}</Breadcrumb.Item>\n\t\t\t\t{project && <Breadcrumb.Item>{project.name}</Breadcrumb.Item>}\n\t\t\t\t<Breadcrumb.Item>{scheme.name}</Breadcrumb.Item>\n\t\t\t</Breadcrumb>\n\n\t\t\t{scheme.description && <Typography style={{fontSize: '120%'}}>\n\t\t\t\t<Paragraph>{scheme.description}</Paragraph>\n\t\t\t</Typography>}\n\n\t\t\t{scheme.cases.length > 1 && <ul>\n\t\t\t\t{scheme.cases.map((c, i) => (\n\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t<a href={getCaseURL(group, entry, c)}>{c.name}</a>&nbsp;\n\t\t\t\t\t\t<Status name={c.status} badge/> \n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>}\n\t\t\t\n\t\t\t<Space direction=\"vertical\" style={{width: '100%'}}>\n\t\t\t\t{scheme.cases.map((c, i) => (\n\t\t\t\t\t<EndpointCase\n\t\t\t\t\t\tkey={`${group.id}-${entry.name}-${c.name}-${i}`}\n\t\t\t\t\t\tgroup={group}\n\t\t\t\t\t\tentry={entry}\n\t\t\t\t\t\tvalue={c}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Space>\n\t\t</>\n\t);\n}\n","import * as React from 'react';\nimport { Card, Result, Tree } from 'antd';\nimport { useAppStore } from '../../store/store';\nimport { fuzzyHL, getBaseURL, useNav } from '../../util';\n\nexport function EndpointAll() {\n\tconst {\n\t\tstate: {\n\t\t\tsearch,\n\t\t\tgroups,\n\t\t\tactiveGroup,\n\t\t\tactiveGroupEntries,\n\t\t},\n\t} = useAppStore();\n\tconst group = groups[activeGroup!]!;\n\tconst rootEntries = activeGroupEntries.flatMap(e => e.entries) || [];\n\t\n\tlet isEmpty = true;\n\tconst nodes = rootEntries.map(function render(e) {\n\t\tif (e.type === 'G') {\n\t\t\treturn (\n\t\t\t\t<Tree.TreeNode key={e.name} title={e.name}>\n\t\t\t\t\t{e.entries.map(render)}\n\t\t\t\t</Tree.TreeNode>\n\t\t\t);\n\t\t} else if (e.type === 'E') {\n\t\t\tconst name = fuzzyHL(e.name, search);\n\t\t\tconst descr = fuzzyHL(e.scheme!.name, search);\n\n\t\t\tif (name === null && descr === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tisEmpty = false;\n\n\t\t\treturn (\n\t\t\t\t<Tree.TreeNode\n\t\t\t\t\tkey={getBaseURL(group, e)}\n\t\t\t\t\ttitle={<>\n\t\t\t\t\t\t<a>{name || e.name}</a>\n\t\t\t\t\t\t<span> — {descr || e.scheme!.name}</span>\n\t\t\t\t\t</>}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else {\n\t\t\tthrow `not supproted: ${e.type}`;\n\t\t}\n\t});\n\tconst nav = useNav();\n\tconst handleSelect = React.useCallback((keys: React.ReactText[]) => {\n\t\tnav(keys.join(''));\n\t}, []);\n\n\treturn (\n\t\t<Card title=\"Все методы\">\n\t\t\t{isEmpty\n\t\t\t\t? <Result\n\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\ttitle={<>По запросу «<b>{search}</b>» ничего не найдено</>}\n\t\t\t\t/>\n\t\t\t\t: <Tree\n\t\t\t\t\tshowLine\n\t\t\t\t\tonSelect={handleSelect}\n\t\t\t\t\tdefaultExpandAll={true}\n\t\t\t\t>\n\t\t\t\t\t{nodes}\n\t\t\t\t</Tree>}\n\t\t</Card>\n\t);\n}\n","import * as React from 'react';\nimport { Layout } from 'antd';\nimport { Header } from './Header';\nimport { LeftMenu } from './LeftMenu';\nimport { Loading } from '../Loading/Loading';\nimport { Endpoint } from '../Endpoint/Endpoint';\nimport { EndpointAll } from '../Endpoint/EndpointAll';\nimport { useAppStore } from '../../store/store';\n\nexport function AppLayout() {\n\tconst {\n\t\tstate: {\n\t\t\tloading,\n\t\t\tsearch,\n\t\t\tactiveEndpoint,\n\t\t},\n\t} = useAppStore();\n\tlet content = loading ? <Loading/> : null;\n\n\tif (content === null) {\n\t\tcontent = !search && activeEndpoint\n\t\t\t? <Endpoint id={activeEndpoint}/>\n\t\t\t: <EndpointAll />\n\t\t;\n\t}\n\n\treturn (\n\t\t<Layout style={{height: '100%'}}>\n\t\t\t<Header/>\t\n\n\t\t\t<Layout>\n\t\t\t\t<Layout.Sider width={250} className=\"site-layout-background\">\n\t\t\t\t\t<LeftMenu/>\n\t\t\t\t</Layout.Sider>\n\n\t\t\t\t<Layout.Content\n\t\t\t\t\tkey={activeEndpoint || search}\n\t\t\t\t\tclassName=\"site-layout-background\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmargin: 20,\n\t\t\t\t\t\tminHeight: 280,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</Layout.Content>\n\t\t\t</Layout>\n\t\t</Layout>\n\t);\n}\n","import * as React from 'react';\nimport { Result } from 'antd';\n\nimport { AppState, Config, GroupEntry, AppStore } from './typings';\n\nimport { AppLayout } from './ui/Layout/Layout';\nimport { parseHistoryParams, toMapById } from './util';\nimport { Store } from './store/store';\n\nexport type AppLoaderProps = {\n\tconfig?: Config;\n};\n\nconst groupEntryCache = {} as {\n\t[url:string]: GroupEntry | null;\n};\n\nexport function App({config}: AppLoaderProps) {\n\tconst state = React.useMemo((): AppState => {\n\t\tconst value: AppState = {\n\t\t\tloading: true,\n\t\t\t\n\t\t\tsearch: '',\n\t\t\tqueryString: '',\n\t\t\t\n\t\t\tactiveGroup: config?.active_group || null,\n\t\t\tactiveGroupEntries: [],\n\t\t\tactiveEndpoint: null,\n\t\t\t\n\t\t\tfastEndpointIndex: {},\n\n\t\t\tgroups: toMapById(config?.groups || []),\n\t\t\tprojects: toMapById(config?.projects || []),\n\t\t\taccessRights: toMapById(config?.rights || []),\n\t\t};\n\n\t\treturn {\n\t\t\t...value,\n\t\t\t...parseHistoryParams(value, true),\n\t\t};\n\t}, [config]);\n\n\tif (!config || !config.groups || !config.groups.length) {\n\t\tconsole.warn('Brocked state:', state);\n\t\treturn <Result status=\"error\" title=\"Broken config (no groups)\" />;\n\t}\n\n\treturn <AppReady state={state} />;\n}\n\nfunction AppReady(props: {state: AppState}) {\n\tconst [state, setState] = React.useState(props.state);\n\tconst store: AppStore = {\n\t\tstate,\n\t\tupdateState: React.useCallback(function () {\n\t\t\tif (arguments.length === 2) {\n\t\t\t\tsetState({\n\t\t\t\t\t...state,\n\t\t\t\t\t[arguments[0]]: arguments[1],\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetState({\n\t\t\t\t\t...state,\n\t\t\t\t\t...Object(arguments[0]),\n\t\t\t\t});\n\t\t\t}\n\t\t}, [state, setState]),\n\t};\n\n\tuseHistory(state);\n\tuseHashChange(() => {\n\t\tconst parsed = parseHistoryParams(state);\n\n\t\tconsole.log('HashChange:', parsed, state.groups);\n\n\t\tsetState({\n\t\t\t...state,\n\t\t\t...parsed,\n\t\t});\n\t}, [state, setState]);\n\tuseGroupEntryAutoload(store);\n\tuseAutoScroll(state.loading);\n\t\n\treturn (\n\t\t<Store.Provider value={store}>\n\t\t\t<AppLayout/>\n\t\t</Store.Provider>\n\t);\n}\n\nfunction useHistory(state: AppState) {\n\tReact.useEffect(() => {\n\t\tconst {\n\t\t\tgroups,\n\t\t\tactiveGroup,\n\t\t\tactiveEndpoint,\n\t\t\tqueryString,\n\t\t\tsearch,\n\t\t} = state\n\n\t\tconst pid = setTimeout(() => {\n\t\t\tlet hash = activeGroup || '';\n\t\t\tlet title = groups[activeGroup!]?.name\n\t\t\t\n\t\t\tif (activeEndpoint) {\n\t\t\t\thash += `:${activeEndpoint}`;\n\t\t\t\ttitle += activeEndpoint;\n\t\t\t}\n\n\t\t\tif (search) {\n\t\t\t\thash += `?search=${search}`;\n\t\t\t} else if (queryString && !queryString.includes('search=')) {\n\t\t\t\thash += `?${queryString}`;\n\t\t\t}\n\t\t\t\n\t\t\twindow.location.hash = hash;\n\t\t\tif (title) {\n\t\t\t\twindow.document.title = title!;\n\t\t\t}\n\t\t}, 250);\n\t\treturn () => {\n\t\t\tclearTimeout(pid);\n\t\t};\n\t}, [window.location.hash, state]);\n\n}\n\nfunction useHashChange(handle: () => void, deps: any[]) {\n\tReact.useEffect(() => {\n\t\twindow.addEventListener('hashchange', handle);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('hashchange', handle);\n\t\t};\n\t}, deps);\n}\n\nfunction useAutoScroll(loading: boolean) {\n\tconst firstScroll = React.useRef(true);\n\t\n\tReact.useEffect(() => {\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elem = document.querySelector(`[id=\"${decodeURIComponent(window.location.hash)}\"]`);\n\t\t\n\t\trequestAnimationFrame(() => {\n\t\t\telem && elem.scrollIntoView({behavior: firstScroll.current ? 'auto' : 'smooth'});\n\t\t\tfirstScroll.current = false;\n\t\t});\n\t}, [loading, window.location.hash]);\n}\n\nfunction useGroupEntryAutoload({state, updateState}: AppStore) {\n\tconst [rev, setRev] = React.useState(0);\n\tconst forceUpdate = React.useCallback(() => { setRev(rev + 1); }, [rev]);\n\tconst group = state.groups[state.activeGroup!];\n\n\tif (!group) {\n\t\tconsole.warn('Group not found:', state.activeGroup)\n\t\treturn;\n\t}\n\n\tconsole.log('Autload group:', state.activeGroup, group);\n\n\tlet loading = false;\n\tlet loadedGroup = group.id;\n\tconst entries = group.entries.map((entry) => {\n\t\tconst cache = groupEntryCache[entry];\n\t\t\n\t\tif (cache === void 0) {\n\t\t\tloading = true;\n\t\t\tloadedGroup = '';\n\t\t\tgroupEntryCache[entry] = null;\n\t\t\t\n\t\t\tfetch(entry).then(r => r.json()).then((group: GroupEntry) => {\n\t\t\t\tgroupEntryCache[entry] = group;\n\t\t\t\t\n\t\t\t\tgroup.entries.forEach(function next(entry) {\n\t\t\t\t\tif (entry.type === 'E') {\n\t\t\t\t\t\tstate.fastEndpointIndex[entry.name] = entry;\n\t\t\t\t\t} else if (entry.type === 'G') {\n\t\t\t\t\t\tentry.entries.forEach(next);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tforceUpdate();\n\t\t\t});\n\t\t} else if (cache === null) {\n\t\t\tloading = true;\n\t\t\tloadedGroup = '';\n\t\t}\n\t\t\n\t\treturn cache!;\n\t});\n\n\tif (loading !== state.loading || loadedGroup) {\n\t\tif (loading && !loadedGroup) {\n\t\t\tupdateState({ loading: true });\n\t\t} else if (state.loadedGroup !== loadedGroup) {\n\t\t\tupdateState({\n\t\t\t\tloading: false,\n\t\t\t\tloadedGroup,\n\t\t\t\tactiveGroupEntries: entries,\n\t\t\t});\n\t\t}\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport { App }  from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nrender(\n\t<App config={Object((globalThis as any).GODRAFT_CONFIG)} />,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n// Print git tag/hash to console\nconsole.log(\"APPLICATION VERSION: \", process.env.REACT_APP_VERSION);\n"],"sourceRoot":""}